{"version":3,"sources":["webpack:///webpack/bootstrap b872efc740cc7ceab9d8","webpack:///./src/control-panel.js","webpack:///./src/flux/index.js","webpack:///./src/flux/Dispatcher.js","webpack:///./src/flux/Store.js"],"names":["controlPanelDispatcher","UPDATE_USERNAME","UPDATE_FONT_SIZE_PREFERENCE","userNameUpdateAction","name","type","value","fontSizePreferenceUpdateAction","size","document","getElementById","addEventListener","target","console","log","dispatch","forms","fontSizeForm","fontSize","forEach","element","UserPrefsStore","userName","action","__state","__emitChange","userPrefsStore","addListener","state","info","render","innerText","getElementsByClassName","style","register","Dispatcher","Store","__listeners","listener","push","dispatcher","getInitialState","__onDispatch","bind","Error"],"mappings":"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","file":"cpanel.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b872efc740cc7ceab9d8","import { Dispatcher, Store} from './flux';\n\nconst controlPanelDispatcher = new Dispatcher();\n\nconst UPDATE_USERNAME = \"UPDATE_USERNAME\";\n\nconst UPDATE_FONT_SIZE_PREFERENCE = 'UPDATE_FONT_SIZE_PREFERENCE';\n\nconst userNameUpdateAction = (name)=>{\n  return {\n    type:'UPDATE_USERNAME',\n    value: name\n  }\n}\n\nconst fontSizePreferenceUpdateAction = (size)=>{\n  return {\n    type:'UPDATE_FONT_SIZE_PREFERENCE',\n    value: size\n  }\n}\n\ndocument.getElementById('userNameInput').addEventListener('input', ({target}) =>{\n  const name = target.value;\n  console.log(\"Dispatching...\", name);\n  controlPanelDispatcher.dispatch(userNameUpdateAction(name));\n})\n\ndocument.forms.fontSizeForm.fontSize.forEach(element=>{\n  element.addEventListener('change',({target})=>{\n    controlPanelDispatcher.dispatch(fontSizePreferenceUpdateAction(target.value));\n  })\n})\n\nclass UserPrefsStore extends Store {\n  getInitialState(){\n    return {\n      userName:\"Patrick\",\n      fontSize:\"small\"\n    }\n  }\n\n  __onDispatch(action){\n      switch(action.type){\n        case UPDATE_USERNAME:\n          this.__state.userName = action.value;\n          this.__emitChange();\n          break;\n        case UPDATE_FONT_SIZE_PREFERENCE:\n          this.__state.fontSize = action.value;\n          this.__emitChange();\n          break;\n    }\n  }\n\n  getUserPreferences(){\n    return this.__state;\n  }\n}\n\nconst userPrefsStore = new UserPrefsStore(controlPanelDispatcher);\n\nuserPrefsStore.addListener((state)=> {\n  console.info(\"The current state is...\", state);\n  render(state);\n})\n\nconst render = ({userName,fontSize}) => {\n  document.getElementById(\"userName\").innerText = userName;\n  document.getElementsByClassName(\"container\")[0].style.fontSize = fontSize === \"small\" ? \"16px\" : \"24px\";\n  document.forms.fontSizeForm.fontSize.value = fontSize;\n}\n\ncontrolPanelDispatcher.register(action=>{\n  console.log(\"Recieved action...\", action);\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/control-panel.js","export { Dispatcher } from './Dispatcher'\nexport { Store } from './Store'\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/index.js","export class Dispatcher {\n  constructor(){\n    this.__listeners = [];\n  }\n  dispatch(action){\n    this.__listeners.forEach(listener =>listener(action));\n  }\n  register(listener){\n    this.__listeners.push(listener);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/Dispatcher.js","export class Store {\n  constructor(dispatcher){\n    this.__listeners = [];\n    this.__state = this.getInitialState();\n    dispatcher.register(this.__onDispatch.bind(this));\n  }\n  \n  __onDispatch(){\n    throw new Error(\"Subclasses must overide __onDispatch method of a Flux store\")\n  }\n\n  getInitialState(){\n    throw new Error(\"Subclasses must overide getInitialState method of a Flux store\")\n  }\n\n  addListener(listener){\n    this.__listeners.push(listener);\n  }\n\n  __emitChange(){\n    this.__listeners.forEach(listener=>listener(this.__state));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/Store.js"],"sourceRoot":""}